(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{4155:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles/cache_coherence",function(){return n(7435)}])},7435:function(e,t,n){"use strict";n.r(t),n.d(t,{__toc:function(){return c},default:function(){return x}});var a=n(5250),r=n(3010),i=n(2630),l=n(9251);n(1541);var s=n(895),d={src:"/_next/static/media/MESI_transformation.9d84eca1.png",height:406,width:420,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA/0lEQVR42gUAS0rDQHTmZSaZNJ+GUmosoQFXghdwIXgJ1y48hJcRwQuI7gQv4LYKdeFKkKBobJJpm898C767uT1aGFN9ID2AQQeIUEVVXwa9nvIwasnp30+XUfdQEvL/GIdfmPlw9dukJ0oHrBElKYJgSDDsMtdFWTdMRoPEME6aNed6h7AmL3FCG6XluYO9mVYqdxyxzHPzXBT1MSZALjd1HwmVrly34b7fv2vjnb29BhfgxFFTfcI3JklkbQ9luUXKqHvrVIu27QLeyqdkNifLyXS9Ao2sUGHKGL+ORvAQU8w8SpS0G0iZrzxsPd8nc4v0rBsEYkJaD2A7Dmm9BzIFek87ANhaAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};let c=[{depth:2,value:"MESI 协议概述",id:"mesi-协议概述"},{depth:3,value:"MESI 状态变化过程：",id:"mesi-状态变化过程"}];function _createMdxContent(e){let t=Object.assign({h1:"h1",h2:"h2",p:"p",ul:"ul",li:"li",br:"br",h3:"h3",img:"img"},(0,s.a)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{children:"缓存一致性"}),"\n",(0,a.jsx)(t.h2,{id:"mesi-协议概述",children:"MESI 协议概述"}),"\n",(0,a.jsx)(t.p,{children:"MESI (Modified, Exclusive, Shared, Invalid) 协议是一种用于处理多处理器系统中缓存一致性的协议。它是通过在处理器的缓存行中维护四种状态来解决读写冲突问题的："}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Exclusive (独占)",(0,a.jsx)(t.br,{}),"\n","该状态表示当前缓存行中的数据是唯一的，并且没有其他处理器持有该数据的副本。当数据从内存中读取时，它的状态将变为 Exclusive。"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Modified (修改)",(0,a.jsx)(t.br,{}),"\n","该状态表示当前缓存行中的数据已被修改，并且没有更新到内存中。当前状态为 Exclusive，当数据被写入时，状态将变为 Modified。"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Shared (共享)",(0,a.jsx)(t.br,{}),"\n","该状态表示该缓存行中的数据在多个处理器中都可以访问。当前状态为 Exclusive 或 Modified，当数据被其他处理器读取时，状态将变为 Shared。该状态下的数据必须在内存中可用。"]}),"\n"]}),"\n",(0,a.jsxs)(t.li,{children:["\n",(0,a.jsxs)(t.p,{children:["Invalid (无效)",(0,a.jsx)(t.br,{}),"\n","该状态表示该缓存行中的数据不再是最新的，并且不能在该处理器中使用。当前状态为 Shared 时，当数据被其他处理器写入时，状态将变为 Invalid。"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"mesi-状态变化过程",children:"MESI 状态变化过程："}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"MESI_transformation",placeholder:"blur",src:d})})]})}let o={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,s.a)(),e.components);return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/articles/cache_coherence.mdx",route:"/articles/cache_coherence",frontMatter:{title:"缓存一致性",date:"2023-02-13T00:00:00.000Z",tags:["cpu","cache","coherence","memory"],hidden:!1,draft:!1},timestamp:1768532323e3,pageMap:[{kind:"Meta",data:{profile:{type:"separator",title:"Profile"},index:"Home",tags:"Tags",archive:"Archive",articles:{type:"page",display:"hidden"}}},{kind:"MdxPage",name:"archive",route:"/archive",frontMatter:{title:"Archive"}},{kind:"Folder",name:"articles",route:"/articles",children:[{kind:"Meta",data:{"*":{display:"hidden"},lock:"关于锁 (Lock)",program_language:"Program Language",kernel:"Linux Kernel",i3wm:"i3wm",kafka:"Kafka",cache_coherence:"缓存一致性",memory_consistency_model:"内存一致性模型",passphraseless_ssh:"Docker SSH 免密登录"}},{kind:"MdxPage",name:"cache_coherence",route:"/articles/cache_coherence",frontMatter:{title:"缓存一致性",date:"2023-02-13T00:00:00.000Z",tags:["cpu","cache","coherence","memory"],hidden:!1,draft:!1}},{kind:"MdxPage",name:"i3wm",route:"/articles/i3wm",frontMatter:{title:"i3wm",date:"2023-02-24T00:00:00.000Z",tags:["misc","linux","i3","window-manager"],hidden:!1,draft:!1}},{kind:"MdxPage",name:"kafka",route:"/articles/kafka",frontMatter:{title:"Kafka",date:"2023-02-14T00:00:00.000Z",tags:["misc","kafka","messaging","streaming"],hidden:!1,draft:!1}},{kind:"MdxPage",name:"kernel",route:"/articles/kernel",frontMatter:{title:"Linux Kernel",date:"2023-02-26T00:00:00.000Z",tags:["misc","kernel","os","linux"],hidden:!1,draft:!1}},{kind:"MdxPage",name:"lock",route:"/articles/lock",frontMatter:{title:"关于锁 (Lock)",date:"2023-06-30T00:00:00.000Z",tags:["multithreading","concurrency","locks","synchronization"],hidden:!1,draft:!1}},{kind:"MdxPage",name:"memory_consistency_model",route:"/articles/memory_consistency_model",frontMatter:{title:"内存一致性模型",date:"2023-02-13T00:00:00.000Z",tags:["cpu","memory","consistency","architecture"],hidden:!1,draft:!1}},{kind:"MdxPage",name:"passphraseless_ssh",route:"/articles/passphraseless_ssh",frontMatter:{title:"Docker SSH 免密登录",date:"2023-02-12T00:00:00.000Z",tags:["docker","ssh","security","devops"],hidden:!1,draft:!1}},{kind:"MdxPage",name:"program_language",route:"/articles/program_language",frontMatter:{title:"Program Language",date:"2023-03-05T00:00:00.000Z",tags:["misc","programming-language","compilers","parsing"],hidden:!1,draft:!1}}]},{kind:"MdxPage",name:"index",route:"/",frontMatter:{title:"Home"}},{kind:"MdxPage",name:"tags",route:"/tags",frontMatter:{title:"Tags"}}],flexsearch:{codeblocks:!0},title:"缓存一致性",headings:c},pageNextRoute:"/articles/cache_coherence",nextraLayout:i.ZP,themeConfig:l.Z};var x=(0,r.j)(o)},9251:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(5250);n(79);var r=n(6963),i=n.n(r),l=n(2630);let formatDateValue=e=>{if(!e)return null;if(e instanceof Date)return e.toISOString().slice(0,10);let t=e.trim();if(!t)return null;let n=new Date(t);return Number.isNaN(n.getTime())?t:n.toISOString().slice(0,10)},getDateMeta=e=>{let t=formatDateValue(null==e?void 0:e.updatedAt);if(t)return{label:"Updated on",value:t};let n=formatDateValue(null==e?void 0:e.createdAt);if(n)return{label:"Created on",value:n};let a=formatDateValue(null==e?void 0:e.date);return a?{label:"Published on",value:a}:null},normalizeTags=e=>Array.isArray(e)?e.map(e=>String(e).trim()).filter(Boolean):"string"==typeof e&&e.trim()?[e.trim()]:[];function ProfileSidebarHeader(){return(0,a.jsxs)("div",{className:"nx-flex nx-flex-col nx-gap-3 nx-px-1",children:[(0,a.jsx)("div",{className:"nx-px-6",children:(0,a.jsx)("img",{src:"/avatar.jpg",alt:"Jover avatar",className:"nx-h-14 nx-w-14 nx-rounded-full nx-bg-neutral-200 nx-object-cover nx-ring-1 nx-ring-neutral-200 dark:nx-bg-neutral-800 dark:nx-ring-neutral-700"})}),(0,a.jsxs)("div",{className:"nx-flex nx-flex-col nx-gap-1",children:[(0,a.jsx)("div",{className:"nx-text-base nx-font-semibold",children:"Jover"}),(0,a.jsx)("div",{className:"nx-text-xs nx-text-neutral-600 dark:nx-text-neutral-300",children:"Rust/C++/编译器/操作系统/数据库"})]})]})}let s={logo:(0,a.jsx)("span",{children:"JoverZhang"}),project:{link:"https://github.com/JoverZhang"},navbar:{extraContent:(0,a.jsx)("nav",{style:{display:"flex",gap:"1rem",fontSize:"0.95rem"},children:(0,a.jsx)("a",{href:"/tags",style:{fontWeight:600},children:"Tags"})})},components:{h1:e=>{let{children:t,...n}=e,{frontMatter:r}=(0,l.ZR)(),s=getDateMeta(r),d=normalizeTags(null==r?void 0:r.tags),c=d.length>0&&!(null==r?void 0:r.hidden)&&!(null==r?void 0:r.draft),o=["nx-text-4xl","nx-font-semibold",n.className].filter(Boolean).join(" ");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{...n,className:o,children:t}),c?(0,a.jsx)("div",{className:"nx-mt-3 nx-flex nx-flex-wrap nx-gap-2",children:d.map(e=>(0,a.jsx)(i(),{href:"/articles?tag=".concat(encodeURIComponent(e)),className:"nx-rounded-full nx-border nx-border-gray-200 nx-px-2.5 nx-py-0.5 nx-text-xs nx-text-gray-600 dark:nx-border-gray-700 dark:nx-text-gray-300",children:e},e))}):null,s?(0,a.jsxs)("p",{className:"nx-mt-2 nx-text-sm nx-text-gray-500 dark:nx-text-gray-400",children:[s.label," ",s.value]}):null]})}},sidebar:{titleComponent:e=>{let{title:t,type:n}=e;return"separator"===n&&"Profile"===t?(0,a.jsx)(ProfileSidebarHeader,{}):(0,a.jsx)("span",{children:t})}},gitTimestamp:null,head:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,a.jsx)("meta",{name:"description",content:"JoverZhang home"}),(0,a.jsx)("title",{children:"JoverZhang Home"})]}),footer:{text:(0,a.jsx)(function(){return(0,a.jsx)("footer",{style:{padding:"2rem 0",textAlign:"center",fontSize:"0.9rem"},children:(0,a.jsxs)("span",{children:["\xa9 ",new Date().getFullYear()," JoverZhang"]})})},{})}};var d=s},8625:function(){}},function(e){e.O(0,[335,467,774,888,179],function(){return e(e.s=4155)}),_N_E=e.O()}]);